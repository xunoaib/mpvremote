# mpvremote - Programmable IR Receiver

Perform actions on your PC using an infrared remote control, such as controlling video playback.

This tool reads IR codes from an Arduino's serial monitor and executes commands assigned to them.

## Requirements
- Python 3.8+
- Arduino (with a USB cable)
- IR receiver (3-pin)
- Any IR remote control


## Setup

**Arduino:**
1. Connect the IR sensor to pin 7 of your Arduino (and conect the +/- pins to 5V/GND, respectively)
2. Connect the Arduino to your PC via USB
4. From the Arduino IDE, install the [Arduino-IRremote](https://github.com/Arduino-IRremote/Arduino-IRremote) library
5. Compile and flash the `arduino_receiver.ino` sketch to your Arduino

**PC:**
1. Install the `mpvremote` Python package from this repository (i.e: with `pipx install .`)
2. Enable IPC support in mpv by adding `input-ipc-server=~~/socket` to your mpv config (`~/.config/mpv/config`)

## Usage

- Ensure the Arduino is wired correctly and connected to your PC
- Run `mpvremote [port]` to start the IR listener, replacing `[port]` with the serial port/path of your Arduino device (default: `/dev/ttyUSB0`). Run with `-h` for more options
- Press buttons on your IR remote to see their codes, then add them to the `IRCODE_COMMANDS` table in `controller.py` with associated actions.
- Restart the program to enjoy remote control

## Configuration

- IR remotes vary, so you will have to replace the existing IR codes in `controller.py` with those generated by your specific remote.
- mpv is controlled through an IPC socket which supports common
playback commands like play, pause, fast-forward, seek, next/previous chapter,
and volume up/down. See [input.conf](https://github.com/mpv-player/mpv/blob/master/etc/input.conf) for more mpv commands.
- While this project was originally designed to control [mpv](https://github.com/mpv-player/mpv), it can be easily adapted to run any other Python code
